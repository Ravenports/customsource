DEF[PORTVERSION]=	20190410
# ----------------------------------------------------------------------------

NAMEBASE=		texlive-texmf
VERSION=		${PORTVERSION}
KEYWORDS=		print
VARIANTS=		standard
SDESC[standard]=	TeXlive texmf tree (macros + fonts)
HOMEPAGE=		https://www.tug.org/texlive
CONTACT=		Michael_Reim[kraileth@elderlinux.org]

DOWNLOAD_GROUPS=	main copying lppl
SITES[main]=		ftp://ftp.tug.org/texlive/historic/2019/
DISTFILE[1]=		texlive-${PORTVERSION}-texmf.tar.xz:main
DISTFILE[2]=		LICENSE.TL:copying
DISTFILE[3]=		lppl.txt:lppl
DIST_SUBDIR=		texlive

SPKGS[standard]=	complete primary docs

OPTIONS_AVAILABLE=	none
OPTIONS_STANDARD=	none

LICENSE=		CUSTOM1:primary
LICENSE_NAME=		CUSTOM1:"TeX Live - Multi-license (LPPL, GNU, BSD, etc)"
LICENSE_TERMS=		primary:{{DISTDIR}}/{{DIST_SUBDIR}}/LICENSE.TL
LICENSE_FILE=		CUSTOM1:{{DISTDIR}}/{{DIST_SUBDIR}}/lppl.txt
LICENSE_SCHEME=		solo

FPC_EQUIVALENT=		print/texlive-texmf

SKIP_BUILD=		yes
DISTNAME=		texlive-${PORTVERSION}-texmf

EXTRACT_HEAD[1]=	{{TAR}} -xf
EXTRACT_TAIL[1]=	{{EXCLUDE_FILES:S,^,--exclude texlive-${PORTVERSION}-texmf/,}} --no-same-owner --no-same-permissions

USES=			shebangfix
SHEBANG_GLOB=		*.sh
			*.py
			*.pl
SHEBANG_FILES=		texmf-dist/scripts/pdfxup/pdfxup
			texmf-dist/scripts/lua2dox/lua2dox_filter
			texmf-dist/scripts/petri-nets/pn2pdf
			texmf-dist/scripts/pdftex-quiet/pdftex-quiet
			texmf-dist/scripts/ltxfileinfo/ltxfileinfo
			texmf-dist/scripts/logicpuzzle/lpsmag
			texmf-dist/scripts/logicpuzzle/createlpsudoku
			texmf-dist/scripts/pdfbook2/pdfbook2

post-extract:
	${FIND} ${WRKSRC} -name '*.orig' -delete
	${FIND} ${WRKSRC} -name '*.bak' -delete

do-install:
	${MV} ${WRKSRC}/texmf-dist ${STAGEDIR}${PREFIX}/share
